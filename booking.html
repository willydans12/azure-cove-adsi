<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Azure Cove Resort</title>
  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Daterangepicker CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"
  />
  <!-- FontAwesome -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    rel="stylesheet"
  />
  <!-- Custom CSS -->
  <link href="home.css" rel="stylesheet" />
</head>
<body>
  <!-- Header / Hero -->
  <header>
    <nav class="navbar navbar-expand-lg navbar-light position-absolute w-100 px-4">
      <a class="navbar-brand text-white d-flex align-items-center" href="i">
        <i class="fas fa-umbrella-beach fa-lg me-2"></i>
        <div>
            <div<a href="index.html" class="h5 mb-0 text-white text-decoration-none">Azure Cove</a>
          <small class="text-white-50">A&amp;C Resort</small>
        </div>
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navMenu"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navMenu">
        <ul class="navbar-nav align-items-center">
          <li class="nav-item mx-3"><a class="nav-link" href="booking.html">Book a Room</a></li>
          <li class="nav-item mx-3"><a class="nav-link" href="about us.html">About Us</a></li>
          <li class="nav-item mx-3"><a class="nav-link" href="activity.html">Activities</a></li>
          <li class="nav-item mx-3"><a class="nav-link" href="contact.html">Contact</a></li>
          <li class="nav-item mx-3"><a class="nav-link" href="profile.html">Profile</a></li>
        </ul>
      </div>
    </nav>

    <div class="hero d-flex justify-content-center align-items-center">
      <!-- background-image via CSS -->
    </div>
  </header>

  <!-- Booking Form -->
  <section class="booking bg-light py-5">
    <div class="container">
      <div class="booking-form bg-white p-4 shadow-sm">
        <div class="row justify-content-center gx-3 gy-2 align-items-end">
          <!-- Date range -->
          <div class="col-md-4">
            <label class="form-label fst-italic">Check‑in and check‑out</label>
            <input
              type="text"
              class="form-control"
              id="daterange"
              readonly
            />
          </div>
          <!-- Rooms & guests -->
<div class="col-md-4">
  <label class="form-label fst-italic">Rooms and guests</label>
  <div class="dropdown">
    <button
      class="form-control text-start dropdown-toggle"
      id="roomsDropdown"
      data-bs-toggle="dropdown"
      data-bs-auto-close="outside"
    >
      <span id="roomsSummary">1 room, 2 adults</span>
    </button>
    <ul
      class="dropdown-menu p-3"
      aria-labelledby="roomsDropdown"
      style="min-width: 300px;"
    >
                <!-- Header per room -->
      <li>
        <h6 class="mb-3">Room 1</h6>
      </li>

      <!-- Adults counter -->
      <li class="d-flex justify-content-between align-items-center mb-3">
        <span><strong>Adults</strong></span>
        <div class="d-flex align-items-center">
          <button class="btn btn-outline-secondary btn-sm me-2" id="adult-decrease">−</button>
          <span id="adult-count">2</span>
          <button class="btn btn-outline-secondary btn-sm ms-2" id="adult-increase">+</button>
        </div>
      </li>

      <!-- Add room link -->
      <li class="mb-3">
        <a href="#" id="add-room">+ Add room</a>
      </li>

      <!-- Close button -->
      <li class="d-flex justify-content-end">
        <button class="btn btn-primary btn-sm" data-bs-dismiss="dropdown">Close</button>
      </li>
    </ul>
  </div>
</div>
          <!-- Search button -->
          <div class="col-md-2 d-grid">
            <button id="searchBtn" class="btn btn-primary">Search</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Select Rooms & Sidebar Reservation -->
  <section class="select-rooms bg-light py-5">
    <div class="container">
      <div class="row gx-4">
        <!-- Main: Room list -->
        <div class="col-lg-8">
          <h3 class="mb-4">Select rooms</h3>

          <!-- ==== STANDARD ROOM CARD ==== -->
<div class="room-card d-flex p-3 mb-4" data-room="standard">
  <img
    src="https://cdn-5e8d3114f911ca0ca0d2b972.closte.com/wp-content/uploads/2020/05/Standard-Room-2.jpg"
    alt="Standard Room"
    class="img-fluid me-3"
    style="width:200px; height:140px; object-fit:cover;"
  >
  <div class="flex-grow-1 d-flex flex-column">
    <!-- Judul & detail singkat -->
    <div>
      <h5 class="mb-1">Standard room</h5>
      <p class="mb-0"><i class="fas fa-user me-1"></i>2 Adults max</p>
      <p><i class="fas fa-vector-square me-1"></i>30 m²</p>
    </div>

    <!-- Footer card: More details + Show Rates -->
    <div class="mt-auto d-flex justify-content-between align-items-center">
      <a href="#" class="fst-italic link-secondary"
         data-bs-toggle="modal" data-bs-target="#modalStandard">
        More details
      </a>
      <div class="text-end">
        <small class="text-muted">from</small><br>
        <span class="h6">IDR 250.000</span>
        <a href="#" class="btn btn-outline-primary btn-sm rates-toggle">Show Rates</a>
      </div>
    </div>

    <!-- Rates panel (initially hidden) -->
    <div class="rates-section d-none border-top pt-3 mt-3">
      <h5 class="mb-4">Room rates</h5>

      <!-- ==== Rate: Room Only ==== -->
      <div
        class="rate-card rate-row mb-4 pb-4 border-bottom"
        data-rate="room-only"
        data-price="250000"
      >
        <!-- Bar atas: judul + cancellation info -->
        <div class="d-flex justify-content-between align-items-start mb-3">
          <div>
            <strong>Standard room</strong>
            <span class="badge bg-secondary ms-2">Room Only</span>
          </div>
          <div class="text-end small">
            <a href="#" class="link-secondary text-decoration-none">Cancellation info</a><br>
            <a href="#" class="link-secondary text-decoration-none">Free Cancel</a>
          </div>
        </div>
        <!-- Bar bawah: capacity, price, add rooms -->
        <div class="row align-items-center gx-2">
          <div class="col-4">
            <div class="text-muted mb-1 nights-label">Capacity</div>
            <div><i class="fas fa-user me-1"></i><i class="fas fa-user"></i></div>
          </div>
          <div class="col-4 text-center">
            <div class="text-muted mb-1">1 night</div>
            <div class="fw-semibold price-display">IDR 0</div>
          </div>
          <div class="col-4 text-end">
            <div class="text-muted mb-1">Add rooms</div>
            <div class="d-inline-flex border">
              <button class="btn btn-sm btn-outline-secondary qty-decrease px-2">−</button>
              <span class="px-3 qty">0</span>
              <button class="btn btn-sm btn-outline-secondary qty-increase px-2">+</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ==== Rate: Bed & Breakfast ==== -->
      <div
        class="rate-card rate-row mb-0 pb-0"
        data-rate="bbf"
        data-price="300000"
      >
        <div class="d-flex justify-content-between align-items-start mb-3">
          <div>
            <strong>Bed and Breakfast</strong>
            <span class="badge bg-secondary ms-2">Bed and breakfast</span>
          </div>
          <div class="text-end small">
            <a href="#" class="link-secondary text-decoration-none">Cancellation info</a><br>
            <a href="#" class="link-secondary text-decoration-none">Free Cancel</a>
          </div>
        </div>
        <div class="row align-items-center gx-2">
          <div class="col-4">
            <div class="text-muted mb-1">Capacity</div>
            <div><i class="fas fa-user me-1"></i><i class="fas fa-user"></i></div>
          </div>
          <div class="col-4 text-center">
            <div class="text-muted mb-1">1 night</div>
            <div class="fw-semibold price-display">IDR 0</div>
          </div>
          <div class="col-4 text-end">
            <div class="text-muted mb-1">Add rooms</div>
            <div class="d-inline-flex border">
              <button class="btn btn-sm btn-outline-secondary qty-decrease px-2">−</button>
              <span class="px-3 qty">0</span>
              <button class="btn btn-sm btn-outline-secondary qty-increase px-2">+</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end rates-section -->

  </div>
</div>




          <!-- Premium Room -->
          <div class="room-card d-flex p-3 mb-4 position-relative">
            <span class="badge bg-primary position-absolute" style="top:8px; right:8px;">Last room available</span>
            <img
  src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/575299570.jpg?k=fe2ec8e4dbd36a5a3a46e8c0005325edebfdc6cd22948d970028f698a9efaab6&o="
  alt="Premium Room"
  class="img-fluid me-3"
  style="width:200px; height:140px; object-fit:cover;"
>
            <div class="flex-grow-1 d-flex flex-column">
              <div>
                <h5 class="mb-1">Premium room</h5>
                <p class="mb-0"><i class="fas fa-user me-1"></i>2 Adults max</p>
                <p><i class="fas fa-vector-square me-1"></i>50 m²</p>
              </div>
              <div class="mt-auto d-flex justify-content-between align-items-center">
                <a href="#"class="fst-italic link-secondary" data-bs-toggle="modal" data-bs-target="#modalPremium">  More details</a>
                <div class="text-end">
                  <small class="text-muted">from</small><br>
                  <span class="h6">IDR 450.000</span>
                  <a href="#" class="btn btn-outline-primary btn-sm ms-2">Show Rates</a>
                </div>
              </div>
            </div>
          </div>

          <!-- VIP Suite -->
          <div class="room-card d-flex p-3 mb-4">
            <img src="https://images.trvl-media.com/lodging/35000000/34750000/34749400/34749350/7f391e8e.jpg?impolicy=resizecrop&rw=297&ra=fit"
            alt="VIP Suite"
            class="img-fluid me-3"
            style="width:200px; height:140px; object-fit:cover;">
            <div class="flex-grow-1 d-flex flex-column">
              <div>
                <h5 class="mb-1">VIP Suite</h5>
                <p class="mb-0"><i class="fas fa-user me-1"></i>2 Adults max</p>
                <p><i class="fas fa-vector-square me-1"></i>70 m²</p>
              </div>
              <div class="mt-auto d-flex justify-content-between align-items-center">
                <a href="#"class="fst-italic link-secondary" data-bs-toggle="modal" data-bs-target="#modalVIP">  More details</a>
                <div class="text-end">
                  <small class="text-muted">from</small><br>
                  <span class="h6">IDR 600.000</span>
                  <a href="#" class="btn btn-outline-primary btn-sm ms-2">Show Rates</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="modalStandard" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
              <div class="modal-content">
                <button type="button" class="btn-close position-absolute top-0 end-0 m-4" data-bs-dismiss="modal"></button>
                <div class="modal-body p-5">
                  <h4 class="mb-4">Standard room</h4>
                  <div class="row">
                    <!-- Carousel -->
                    <div class="col-md-7">
                      <div id="carouselStandard" class="carousel slide mb-4" data-bs-ride="carousel">
                        <div class="carousel-inner rounded">
                          <div class="carousel-item active">
                            <img src="https://cdn-5e8d3114f911ca0ca0d2b972.closte.com/wp-content/uploads/2020/05/Standard-Room-3.jpg"
                                 class="d-block w-100" style="height: 350px; object-fit:cover;">
                          </div>
                          <div class="carousel-item">
                            <img src="https://cdn-5e8d3114f911ca0ca0d2b972.closte.com/wp-content/uploads/2020/05/Standard-Room-2.jpg"
                                 class="d-block w-100" style="height: 350px; object-fit:cover;">
                          </div>
                        </div>
                        <div class="carousel-indicators">
                          <button type="button" data-bs-target="#carouselStandard" data-bs-slide-to="0" class="active"></button>
                          <button type="button" data-bs-target="#carouselStandard" data-bs-slide-to="1"></button>
                        </div>
                      </div>
                    </div>
                    <!-- Info -->
                    <div class="col-md-5">
                      <h5>Overview</h5>
                      <p><i class="fas fa-user me-2"></i>2 Adults max</p>
                      <p><i class="fas fa-vector-square me-2"></i>30 m²</p>
                      <h5 class="mt-4">About this room</h5>
                      <p>Enjoy a stunning forest view from your private sunlit balcony, where you can unwind through the afternoon while sipping fresh‑brewed coffee. With its sleek design and 30‑square‑meter floor plan, this spacious room is the perfect place to stretch your legs and relax. <a href="#">Read more</a></p>
                      <h5 class="mt-4">Amenities</h5>
                      <ul class="list-unstyled">
                        <li><i class="fas fa-check me-2"></i>Double bed</li>
                        <li><i class="fas fa-check me-2"></i>Bathroom with shower</li>
                        <li><i class="fas fa-check me-2"></i>Wireless internet</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="modal-footer border-0 justify-content-end">
                  <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        
          <!-- Premium Room Modal -->
          <div class="modal fade" id="modalPremium" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
              <div class="modal-content">
                <button type="button" class="btn-close position-absolute top-0 end-0 m-4" data-bs-dismiss="modal"></button>
                <div class="modal-body p-5">
                  <h4 class="mb-4">Premium room</h4>
                  <div class="row">
                    <div class="col-md-7">
                      <div id="carouselPremium" class="carousel slide mb-4" data-bs-ride="carousel">
                        <div class="carousel-inner rounded">
                          <div class="carousel-item active">
                            <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/575299570.jpg?k=fe2ec8e4dbd36a5a3a46e8c0005325edebfdc6cd22948d970028f698a9efaab6&o="
                                 class="d-block w-100" style="height: 350px; object-fit:cover;">
                          </div>
                          <div class="carousel-item">
                            <img src="https://cf.bstatic.com/xdata/images/hotel/max500/575739422.jpg?k=7ccbd9759cb3302e4b82d4efc0ba45f3c8246e2f60b514ff17c0f7b53c058b94&o="
                                 class="d-block w-100" style="height: 350px; object-fit:cover;">
                          </div>
                        </div>
                        <div class="carousel-indicators">
                          <button type="button" data-bs-target="#carouselPremium" data-bs-slide-to="0" class="active"></button>
                          <button type="button" data-bs-target="#carouselPremium" data-bs-slide-to="1"></button>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-5">
                      <h5>Overview</h5>
                      <p><i class="fas fa-user me-2"></i>2 Adults max</p>
                      <p><i class="fas fa-vector-square me-2"></i>50 m²</p>
                      <h5 class="mt-4">About this room</h5>
                      <p>Experience a breathtaking ocean view from your private terrace, where you can unwind on cushioned lounge chairs, sipping handmade cocktails from our bar. With a spa‑style bath and 50‑square‑meter floor plan, this boutique room has everything you need. <a href="#">Read more</a></p>
                      <h5 class="mt-4">Amenities</h5>
                      <ul class="list-unstyled">
                        <li><i class="fas fa-check me-2"></i>Balcony</li>
                        <li><i class="fas fa-check me-2"></i>Bathroom with shower</li>
                        <li><i class="fas fa-check me-2"></i>Minibar</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="modal-footer border-0 justify-content-end">
                  <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        
          <!-- VIP Suite Modal -->
          <div class="modal fade" id="modalVIP" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
              <div class="modal-content">
                <button type="button" class="btn-close position-absolute top-0 end-0 m-4" data-bs-dismiss="modal"></button>
                <div class="modal-body p-5">
                  <h4 class="mb-4">VIP Suite</h4>
                  <div class="row">
                    <div class="col-md-7">
                      <div id="carouselVIP" class="carousel slide mb-4" data-bs-ride="carousel">
                        <div class="carousel-inner rounded">
                          <div class="carousel-item active">
                            <img src="https://images.trvl-media.com/lodging/35000000/34750000/34749400/34749350/7f391e8e.jpg?impolicy=resizecrop&rw=1200&ra=fit"
                                 class="d-block w-100" style="height: 350px; object-fit:cover;">
                          </div>
                          <div class="carousel-item">
                            <img src="https://images.trvl-media.com/lodging/35000000/34750000/34749400/34749350/f4ecb971.jpg?impolicy=resizecrop&rw=1200&ra=fit"
                                 class="d-block w-100" style="height: 350px; object-fit:cover;">
                          </div>
                        </div>
                        <div class="carousel-indicators">
                          <button type="button" data-bs-target="#carouselVIP" data-bs-slide-to="0" class="active"></button>
                          <button type="button" data-bs-target="#carouselVIP" data-bs-slide-to="1"></button>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-5">
                      <h5>Overview</h5>
                      <p><i class="fas fa-user me-2"></i>2 Adults max</p>
                      <p><i class="fas fa-vector-square me-2"></i>70 m²</p>
                      <h5 class="mt-4">About this room</h5>
                      <p>The perfect getaway for the whole family. Enjoy a breathtaking ocean view from your quiet terrace. The garden below with a jungle gym is ideal for active kids. With a 70 square meter floor plan, one double and one twin bed, there’s lots of room for everyone. <a href="#">Read more</a></p>
                      <h5 class="mt-4">Amenities</h5>
                      <ul class="list-unstyled">
                        <li><i class="fas fa-check me-2"></i>Seating area</li>
                        <li><i class="fas fa-check me-2"></i>Centrally controlled A/C</li>
                        <li><i class="fas fa-check me-2"></i>Cable TV</li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="modal-footer border-0 justify-content-end">
                  <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

          

        <!-- Sidebar: Reservation -->
        <div class="col-lg-4">
          <aside class="reservation bg-white p-4 shadow-sm">
            <h5 class="fst-italic mb-3">Your reservation</h5>
            <dl class="row mb-3">
              <dt class="col-5">Check-in:</dt>
              <dd id="resCheckin" class="col-7">Wed, Apr 2, 2025</dd>
            
              <dt class="col-5">Check-out:</dt>
              <dd id="resCheckout" class="col-7">Thu, Apr 3, 2025</dd>
            </dl>
            <hr>
<p id="resSummary">1 room, 2 adults, 1 night</p>
<hr>
            <div class="reservation-items mb-3">
              <label class="form-label fst-italic">Add promo code</label>
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Enter code">
                <button class="btn btn-secondary">Apply</button>
              </div>
            </div>
            <hr>
            <div class="d-flex justify-content-between align-items-center mb-3">
              <strong>Total</strong>
              <span class="total-price">IDR 0</span>
            </div>
            <button class="btn btn-primary w-100" disabled>Continue</button>
          </aside>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer text-white py-5">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-4">
          <h6>Call us now to book</h6>
          <p class="h5">1-800-000-0000</p>
        </div>
        <div class="col-md-4 text-center">
          <h6>Follow us</h6>
          <a href="#" class="text-white me-2"><i class="fab fa-tripadvisor"></i></a>
          <a href="#" class="text-white me-2"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="text-white"><i class="fab fa-instagram"></i></a>
        </div>
        <div class="col-md-4 text-end">
          <small>© 2025 by Azure Cove Resort</small>
        </div>
      </div>
    </div>
  </footer>

      <!-- ==== LIBRARIES ==== -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- ==== SCRIPTS ==== -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  let currentNights = 1;
  let selectedStart = null, selectedEnd = null;
  const reservation   = document.querySelector('.reservation-items');
  const totalDisplay  = document.querySelector('.total-price');
  const continueBtn   = document.querySelector('.reservation button');
  const searchBtn     = document.getElementById('searchBtn');
  const resSummary    = document.getElementById('resSummary');
  const checkinLabel  = document.getElementById('resCheckin');
  const checkoutLabel = document.getElementById('resCheckout');

  // Inisialisasi daterangepicker: hanya simpan tanggal & hitung nights
  $('#daterange').daterangepicker({
    opens: 'right',
    locale: { format: 'DD/MM/YYYY' }
  }, (start, end) => {
    selectedStart = start;
    selectedEnd   = end;
    currentNights = end.diff(start, 'days');

    // update label nights di tiap rate-card tetap langsung
    document.querySelectorAll('.nights-label').forEach(el => {
      el.textContent = `${currentNights} night${currentNights > 1 ? 's' : ''}`;
    });
  });

  // Fungsi helper summary rooms & guests
  function updateRoomsSummary() {
    const adultCount = +document.getElementById('adult-count').textContent;
    document.getElementById('roomsSummary').textContent =
      `1 room, ${adultCount} adult${adultCount > 1 ? 's' : ''}`;
  }

  // Controls Adults +/–
  document.getElementById('adult-increase').addEventListener('click', () => {
    let c = +document.getElementById('adult-count').textContent;
    document.getElementById('adult-count').textContent = ++c;
    updateRoomsSummary();
  });
  document.getElementById('adult-decrease').addEventListener('click', () => {
    let c = +document.getElementById('adult-count').textContent;
    if (c > 1) document.getElementById('adult-count').textContent = --c;
    updateRoomsSummary();
  });

  // Tombol Search: update sidebar date, summary, total
  searchBtn.addEventListener('click', e => {
    e.preventDefault();
    if (selectedStart && selectedEnd) {
      checkinLabel.textContent  = selectedStart.format('ddd, MMM D, YYYY');
      checkoutLabel.textContent = selectedEnd.format('ddd, MMM D, YYYY');
    }
    // update ringkasan rooms+guests+nights
    const roomsText = document.getElementById('roomsSummary').textContent;
    resSummary.textContent = `${roomsText}, ${currentNights} night${currentNights > 1 ? 's' : ''}`;

    // recalc semua subtotal di cards
    document.querySelectorAll('.rate-row').forEach(row => {
      const pricePN = +row.dataset.price;
      const qty     = +row.querySelector('.qty').textContent;
      row.querySelector('.price-display').textContent =
        new Intl.NumberFormat('id-ID',{style:'currency',currency:'IDR'})
          .format(pricePN * qty * currentNights);
    });
    // update total & enable Continue
    updateReservationSidebar();
  });

  // Toggle rates, qty +/–, remove item
  document.body.addEventListener('click', e => {
    if (e.target.closest('.rates-toggle')) {
      e.preventDefault();
      const btn   = e.target.closest('.rates-toggle');
      const panel = btn.closest('.room-card').querySelector('.rates-section');
      panel.classList.toggle('d-none');
      btn.textContent = panel.classList.contains('d-none') ? 'Show Rates' : 'Hide Rates';
      return;
    }
    if (e.target.matches('.qty-increase, .qty-decrease')) {
      const row   = e.target.closest('.rate-row');
      const qtyEl = row.querySelector('.qty');
      let qty     = +qtyEl.textContent || 0;
      qty += e.target.classList.contains('qty-increase') ? 1 : -1;
      qty = Math.max(0, qty);
      qtyEl.textContent = qty;
      const pricePN = +row.dataset.price;
      const subtotal = pricePN * qty * currentNights;
      row.querySelector('.price-display').textContent =
        new Intl.NumberFormat('id-ID',{style:'currency',currency:'IDR'})
          .format(subtotal);
      updateReservationSidebar(
        row.closest('.room-card').dataset.room,
        row.dataset.rate,
        pricePN,
        qty
      );
      return;
    }
    if (e.target.matches('.remove-item')) {
      const item = e.target.closest('.res-item');
      const [room, rate] = item.dataset.key.split('-');
      const row = document.querySelector(`.room-card[data-room="${room}"] .rate-row[data-rate="${rate}"]`);
      row.querySelector('.qty').textContent = '0';
      row.querySelector('.price-display').textContent = 'IDR 0';
      item.remove();
      updateReservationSidebar();
    }
  });

  // Helper: update sidebar entries & total
  function updateReservationSidebar(room, rate, pricePN, qty) {
    if (room !== undefined) {
      const key = `${room}-${rate}`;
      let entry = reservation.querySelector(`[data-key="${key}"]`);
      if (qty > 0) {
        if (!entry) {
          entry = document.createElement('div');
          entry.className = 'res-item d-flex justify-content-between align-items-center';
          entry.dataset.key   = key;
          entry.dataset.price = pricePN;
          entry.dataset.qty   = qty;
          entry.innerHTML = `
            <div class="item-label">
              ${qty * currentNights} × IDR ${pricePN.toLocaleString()}
            </div>
            <button class="btn btn-sm btn-outline-secondary remove-item">&times;</button>
          `;
          reservation.append(entry);
        } else {
          entry.dataset.qty = qty;
          entry.querySelector('.item-label').textContent =
            `${qty * currentNights} × IDR ${pricePN.toLocaleString()}`;
        }
      } else if (entry) {
        entry.remove();
      }
    }
    // recalc total
    let sum = 0;
    reservation.querySelectorAll('.res-item').forEach(item => {
      sum += (+item.dataset.price) * (+item.dataset.qty) * currentNights;
    });
    totalDisplay.textContent =
      new Intl.NumberFormat('id-ID',{style:'currency',currency:'IDR'})
        .format(sum);
    continueBtn.disabled = (sum === 0);
  }
});
</script>



 
</body>
</html>
